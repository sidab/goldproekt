<template>

    <div class="page">

        <div class="navbar">

            <div class="navbar-inner sliding">

                <div class="title">Наш бетонный завод</div>

            </div>

        </div>

        <div class="fab fab-extended fab-center-bottom">

            <a @click="call" href="#">
                <i class="icon f7-icons ios-only">phone</i>
                <i class="icon material-icons md-only">phone</i>
                <div class="fab-text">Позвонить</div>
            </a>

        </div>

        <div class="page-content">

            <div class="swiper-container beton-slider">

                <div class="swiper-wrapper">

                    <div data-index="0" class="swiper-slide swiper-lazy" data-background="img/beton/1.jpg"></div>

                    <div data-index="1" class="swiper-slide swiper-lazy" data-background="img/beton/2.jpg"></div>

                    <div data-index="2" class="swiper-slide swiper-lazy" data-background="img/beton/3.jpg"></div>

                    <div data-index="3" class="swiper-slide swiper-lazy" data-background="img/beton/4.jpg"></div>

                    <div data-index="4" class="swiper-slide swiper-lazy" data-background="img/beton/5.jpg"></div>

                    <div data-index="5" class="swiper-slide swiper-lazy" data-background="img/beton/6.jpg"></div>

                    <div data-index="6" class="swiper-slide swiper-lazy" data-background="img/beton/7.jpg"></div>

                    <div data-index="7" class="swiper-slide swiper-lazy" data-background="img/beton/8.jpg"></div>

                </div>

                <div class="swiper-pagination text-color-white"></div>

                <div class="block no-margin-top">

                    <div class="segmented segmented-raised segmented-round">

                        <button class="button button-round button-outline prev">Предыдущее</button>
                        <button class="button button-round button-outline next">Следующее</button>

                    </div>

                </div>

            </div>

            <div class="block-title block-title-large no-margin-top">Видео</div>

            <div class="block block-iframe no-padding block-strong text-align-center">

                <div class="preloader center"></div>

                <iframe class="display-none" data-src="https://www.youtube.com/embed/9Y-NAOpdGeE?modestbranding=1&rel=0&autohide=1&showinfo=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

            </div>

            <div class="block-title block-title-medium">Цены на бетон компании «Голд Проект»</div>

            <div class="block block-strong">В таблице представлены актуальные цены на разные марки бетона. При заказе большого количества возможно предоставление индивидуальной скидки!</div>

            <div class="data-table card">

                <table>

                    <thead>

                    <tr>

                        <th class="label-cell">Марка</th>
                        <th class="numeric-cell">Цена</th>

                    </tr>

                    </thead>

                    <tbody>

                    <tr>

                        <td class="label-cell">М-100</td>
                        <td class="numeric-cell">2300₽</td>

                    </tr>

                    <tr>

                        <td class="label-cell">М-150</td>
                        <td class="numeric-cell">2500₽</td>

                    </tr>

                    <tr>

                        <td class="label-cell">М-200</td>
                        <td class="numeric-cell">2700₽</td>

                    </tr>

                    <tr>

                        <td class="label-cell">М-250</td>
                        <td class="numeric-cell">2900₽</td>

                    </tr>

                    <tr>

                        <td class="label-cell">М-300</td>
                        <td class="numeric-cell">3100₽</td>

                    </tr>

                    <tr>

                        <td class="label-cell">М-350</td>
                        <td class="numeric-cell">3300₽</td>

                    </tr>

                    <tr>

                        <td class="label-cell">М-400</td>
                        <td class="numeric-cell">3500₽</td>

                    </tr>

                    </tbody>

                </table>

            </div>

            <div class="block-title block-title-medium">Бетононасос</div>

            <div class="block block-strong">Можно заказать бетононасос со стрелой 58 м.</div>

            <div class="block-title block-title-medium"><h3>4 причины, из-за которых стоит приобрести бетон в компании «Голд Проект»</h3></div>

            <div class="block block-strong">

                <ul>

                    <li>Тщательный контроль качества. Представленные марки бетона соответствуют требованиям ГОСТ и СНиП.</li>
                    <li>Собственный автопарк спецтеники. Можно заказать бетононасос со стрелой 58 м.</li>
                    <li>Всесторонняя помощь. Сотрудники компании предоставляют бесплатные технические консультации, помогая клиентам подобрать бетон, соответствующий требованиям их проекта.</li>
                    <li>Лояльная ценовая политика. Компания «Голд Проект» дает гарантию доступных цен, предлагает клиентам скидки и большое количество бесплатных услуг: консультации, расчет стоимости и иные.</li>

                </ul>

            </div>

            <div class="block block-strong">Вы можете заказать бетон и бетононасос в любое удобное время, связавшись с нами по телефону: <strong><a class="external" href="tel:+79887756000">8(988) 775-60-00</a></strong></div>

        </div>

    </div>

</template>

<style scoped>

    {{this}} .beton-slider .swiper-pagination {
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
    }

    {{this}} .beton-slider .swiper-pagination {
                 position: relative;
                 bottom: 35px;
             }

    {{this}} .beton-slider {
                 max-width: 750px;
        margin: 0 auto;
                 overflow: hidden;
             }

    {{this}} .beton-slider .swiper-slide {
                 height: var(--iframe-and-slider-height);
                 background-repeat: no-repeat;
                 background-position: center;
                 background-color: #eee;
                 background-size: auto 100%;
             }

    {{this}} iframe {
                 height: 100%;
             }
    {{this}} .block-iframe {
                 height: var(--iframe-and-slider-height);
             }
</style>

<script>

    return {

        data: function () {

            return {

            }

        },
        methods: {

            call: function() {

                window.open('tel:+79887756000', '_system');

            }

        },
        on: {
            pageInit: function() {

                var component = this;
                var page = component.$el;

                var images = [];

                page.find('.beton-slider').find('.swiper-slide').each(function () {

                    var src = $$(this).data('background');

                    images.push(src);

                });

                $$('#view-beton').once('tab:show', function () {

                    var betonSlider = new Swiper(page.find('.beton-slider'), {
                        pagination: {
                            el: '.swiper-pagination',
                            type: 'fraction'
                        },
                        lazy: {
                            loadPrevNext: true
                        },
                        navigation: {
                            nextEl: '.next',
                            prevEl: '.prev',
                            disabledClass: 'disabled',
                            hiddenClass: 'disabled'
                        },
                        on: {
                            init: function() {

                                var swiper = this.$el;

                                var photoBrowser = app.photoBrowser.create({
                                    photos: images,
                                    theme: 'dark',
                                    routableModals: false,
                                    swiper: {
                                        lazy: false,
                                        zoom: {
                                            maxRatio: 10
                                        }
                                    }
                                });

                                swiper.find('.swiper-slide').on('click', function() {

                                    var index = parseInt($$(this).data('index'));

                                    photoBrowser.open(index);

                                });

                            }
                        }
                    });

                    var iframe = page.find('iframe');
                    var src = iframe.data('src');

                    iframe.attr('src', src);

                    iframe.on('load', function () {

                        page.find('.preloader').addClass('display-none');
                        iframe.removeClass('display-none');

                    });

                    setTimeout(function () {

                        page.find('.preloader').addClass('display-none');
                        iframe.removeClass('display-none');

                    }, 3000);

                });

            }

        }

    }

</script>